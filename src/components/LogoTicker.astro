---
import { Image } from 'astro:assets';
import armura from '../assets/logos/armura.webp';
import caserossi from '../assets/logos/caserossi.webp';
import fagazsa from '../assets/logos/fagazsa.webp';
import industria4 from '../assets/logos/industria4.webp';
import intertenis from '../assets/logos/intertenis.webp';
import libreria from '../assets/logos/libreria.webp';
import notem from '../assets/logos/notem.webp';
import puertasjack from '../assets/logos/puertasjack.webp';
import renova from '../assets/logos/renova.webp';
import savages from '../assets/logos/savages.webp';
import selecta from '../assets/logos/selecta.webp';
import stepmza from '../assets/logos/stepmza.webp';
import terravento from '../assets/logos/terravento.webp';
import zaidaegea from '../assets/logos/zaidaegea.webp';

const brands = [
  { name: "Armura", logo: armura },
  { name: "Case Rossi", logo: caserossi },
  { name: "Fagazsa", logo: fagazsa },
  { name: "Industria 4", logo: industria4 },
  { name: "Intertenis", logo: intertenis },
  { name: "Libreria", logo: libreria },
  { name: "Notem", logo: notem },
  { name: "Puertas Jack", logo: puertasjack },
  { name: "Renova", logo: renova },
  { name: "Savages", logo: savages },
  { name: "Selecta", logo: selecta },
  { name: "Step Mza", logo: stepmza },
  { name: "Terravento", logo: terravento },
  { name: "Zaida Egea", logo: zaidaegea }
];
---

<section class="py-12 border-y border-primary/5 bg-white overflow-hidden relative">
  
  <div class="absolute top-0 left-0 h-full w-24 z-10 bg-gradient-to-r from-white to-transparent pointer-events-none"></div>

  <div class="flex whitespace-nowrap overflow-hidden">
    <div class="flex animate-scroll-fast md:animate-scroll hover:pause">
      
      {/* Tira 1 */}
      <div class="flex items-center gap-16 md:gap-32 pr-16 md:pr-32">
        {brands.map(brand => (
          <div class="flex-shrink-0 transform-gpu">
            <Image 
              src={brand.logo} 
              alt={`${brand.name} logo`} 
              class="h-20 w-auto object-contain max-w-[180px] opacity-50 grayscale hover:grayscale-0 hover:opacity-100 transition-all duration-300"
              width={180}
              height={80}
              loading="eager" 
            />
          </div>
        ))}
      </div>

      {/* Tira 2 (Duplicada para loop infinito) */}
      <div class="flex items-center gap-16 md:gap-32 pr-16 md:pr-32">
        {brands.map(brand => (
          <div class="flex-shrink-0 transform-gpu">
            <Image 
              src={brand.logo} 
              alt={`${brand.name} logo`} 
              class="h-20 w-auto object-contain max-w-[180px] opacity-50 grayscale hover:grayscale-0 hover:opacity-100 transition-all duration-300"
              width={180}
              height={80}
              loading="eager"
            />
          </div>
        ))}
      </div>

    </div>
  </div>

  <div class="absolute top-0 right-0 h-full w-24 z-10 bg-gradient-to-l from-white to-transparent pointer-events-none"></div>

</section>

<style>
  /* Optimizaciones extra para GPU */
  .animate-scroll {
    will-change: transform;
    transform: translate3d(0, 0, 0); /* Fuerza hardware acceleration */
  }
  
  /* Pausar animaci√≥n al pasar el mouse (opcional, ayuda a que el usuario vea los logos) */
  .hover\:pause:hover {
    animation-play-state: paused;
  }
</style>